<!-- Load Header -->
<%- include('../master/header') %>

     <link rel="stylesheet" href="/css/jquery.dataTables.min.css" />
     <link rel="stylesheet" href="/css/responsive.dataTables.min.css" />
     <link rel="stylesheet" href="/css/buttons.dataTables.min.css" />

     <!-- Ini Main Content -->
     <div class="main_content_iner overly_inner ">

          <div class="row">
               <div class="col-lg-12">
                    <div class="white_card card_height_100 mb_30">
                         <div class="white_card_header">
                              <div class="box_header m-0">
                                   <div class="main-title">

                                   </div>
                              </div>
                         </div>
                         <div class="white_card_body">
                              <div class="QA_section">
                                   <div class="white_box_tittle list_header">
                                        <h4>List Data Category</h4>
                                        <div class="box_right d-flex lms_block">
                                             <div class="serach_field_2">
                                                  <div class="search_inner">
                                                  </div>
                                             </div>
                                             <div class="add_button ms-2">
                                                  <a href="/category/create" data-bs-toggle="modal"
                                                       data-bs-target="#addcategory" class="btn_1">Add New</a>
                                             </div>
                                        </div>
                                   </div>
                                   <div class="QA_table mb_30">

                                        <table class="table lms_table_active ">
                                             <thead>
                                                  <tr>
                                                       <th scope="col">Name</th>
                                                       <th scope="col"></th>
                                                  </tr>
                                             </thead>
                                             <tbody>
                                                  <% categories.forEach(res=> { %>
                                                       <tr>
                                                            <th scope="row">
                                                                 <%= res.category %>
                                                            </th>
                                                            <td class="d-flex gap-2 justify-content-end">
                                                                 <a href="/category/<%= res.id %>/edit"
                                                                      class="btn btn-primary">Edit</a>
                                                                 <form action="/category/delete" method="post">
                                                                      <input type="hidden" value="<%= res.id  %>"
                                                                           name="id">
                                                                      <button type="submit" class="btn btn-danger">
                                                                           Hapus</button>
                                                                 </form>
                                                            </td>
                                                       </tr>
                                                       <% }) %>
                                             </tbody>
                                        </table>
                                   </div>
                              </div>
                         </div>
                    </div>
               </div>
          </div>


          <script src="/js/jquery.dataTables.min.js"></script>
          <script src="/js/dataTables.responsive.min.js"></script>
          <script src="/js/dataTables.buttons.min.js"></script>

          <script>
               $(".lms_table_active").DataTable({
                    bLengthChange: false,
                    bDestroy: true,
                    language: {
                         search: "<i class='ti-search'></i>",
                         searchPlaceholder: "Quick Search",
                         paginate: {
                              next: "<i class='ti-arrow-right'></i>",
                              previous: "<i class='ti-arrow-left'></i>",
                         },
                    },
                    columnDefs: [{ visible: false }],
                    responsive: true,
                    searching: false,
               });
          </script>
          <!-- Load footer -->
          <%- include('../master/footer') %>